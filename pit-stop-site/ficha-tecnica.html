<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha Técnica - PIT STOP</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Remix Icon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Using modern Poppins font family -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- CSS da página -->
    <link rel="stylesheet" href="./css/custom.css">
    <link rel="stylesheet" href="./css/ficha-tecnica.css">
</head>
<body>

    <!-- Modern navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-azul-pitstop">
        <div class="container">
            <a class="navbar-brand fw-bold d-flex align-items-center" href="index.html">
                <img src="public/images/pic-nova-logo-branca.webp" alt="logo PIT STOP" height="40" class="me-2">
            </a>
            <!-- Updated button text from "Voltar ao catálogo" to just "Voltar" -->
            <a href="index.html" class="btn btn-outline-light btn-sm">
                <i class="ri-arrow-left-line me-2"></i>Voltar
            </a>
        </div>
    </nav>

    <!-- Modern hero banner with gradient -->
    <section class="banner-topo text-white text-center py-5" style="background: linear-gradient(135deg, var(--azul-pitstop) 0%, var(--azul-secundario) 100%);">
        <div class="container py-4">
            <h1 class="display-4 fw-bold mb-3 text-white" id="titulo">Carregando...</h1>
            <p class="lead mb-0 text-white-50" id="subtitulo"></p>
        </div>
    </section>

    <div class="container my-5">

        <!-- Interactive image gallery -->
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto">
                <div class="card shadow-lg border-0">
                    <div class="card-body p-0">
                        <div class="text-center bg-light" style="min-height: 400px; display: flex; align-items: center; justify-content: center; border-radius: 20px 20px 0 0; overflow: hidden;">
                            <img id="car-img" class="img-fluid" src="/placeholder.svg" alt="Veículo" style="max-height: 400px; object-fit: contain;">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabbed interface for organized information -->
        <ul class="nav nav-tabs mb-4" id="techTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">
                    <i class="ri-information-line me-2"></i>Visão Geral
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="performance-tab" data-bs-toggle="tab" data-bs-target="#performance" type="button" role="tab">
                    <i class="ri-speedometer-line me-2"></i>Desempenho
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="economy-tab" data-bs-toggle="tab" data-bs-target="#economy" type="button" role="tab">
                    <!-- Updated to use modern Remix icon instead of emoji -->
                    <i class="ri-gas-station-line me-2"></i>Economia
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="costs-tab" data-bs-toggle="tab" data-bs-target="#costs" type="button" role="tab">
                    <!-- Updated to use modern Remix icon instead of emoji -->
                    <i class="ri-money-dollar-circle-line me-2"></i>Custos
                </button>
            </li>
        </ul>

        <div class="tab-content" id="techTabsContent">
            <!-- Overview Tab -->
            <div class="tab-pane fade show active" id="overview" role="tabpanel">
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="card shadow-sm h-100">
                            <div class="card-body">
                                <h5 class="card-title fw-bold mb-4"><i class="ri-file-list-3-line text-vermelho-pitstop me-2"></i>Especificações Básicas</h5>
                                <div class="spec-item">
                                    <span class="text-muted">Marca</span>
                                    <strong id="marca">-</strong>
                                </div>
                                <div class="spec-item">
                                    <span class="text-muted">Modelo</span>
                                    <strong id="modelo">-</strong>
                                </div>
                                <div class="spec-item">
                                    <span class="text-muted">Ano</span>
                                    <strong id="ano">-</strong>
                                </div>
                                <div class="spec-item">
                                    <span class="text-muted">Combustível</span>
                                    <strong id="combustivel">-</strong>
                                </div>
                                <div class="spec-item">
                                    <span class="text-muted">Câmbio</span>
                                    <strong id="cambio">-</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card shadow-sm h-100">
                            <div class="card-body">
                                <h5 class="card-title fw-bold mb-4"><i class="ri-shield-check-line text-verde-acento me-2"></i>Segurança & Conforto</h5>
                                
                                <div class="mb-4">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span class="text-muted">Segurança</span>
                                        <strong><span id="seguranca-value">-</span>/5 estrelas</strong>
                                    </div>
                                    <div class="spec-bar">
                                        <div class="spec-bar-fill" id="seguranca-bar" style="width: 0%"></div>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span class="text-muted">Conforto</span>
                                        <strong><span id="conforto-value">-</span>/5 estrelas</strong>
                                    </div>
                                    <div class="spec-bar">
                                        <div class="spec-bar-fill" id="conforto-bar" style="width: 0%"></div>
                                    </div>
                                </div>

                                <div class="mt-4 p-3 bg-light rounded">
                                    <h6 class="fw-bold mb-2">Preço</h6>
                                    <div class="display-6 text-vermelho-pitstop fw-bold">R$ <span id="preco">-</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Tab -->
            <div class="tab-pane fade" id="performance" role="tabpanel">
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card shadow-sm text-center h-100">
                            <div class="card-body">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-flashlight-line display-3 text-vermelho-pitstop mb-3"></i>
                                <h6 class="text-muted mb-2">Potência</h6>
                                <h3 class="fw-bold" id="potencia">-</h3>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card shadow-sm text-center h-100">
                            <div class="card-body">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-timer-line display-3 text-vermelho-pitstop mb-3"></i>
                                <h6 class="text-muted mb-2">0-100 km/h</h6>
                                <h3 class="fw-bold"><span id="aceleracao">-</span>s</h3>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card shadow-sm text-center h-100">
                            <div class="card-body">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-dashboard-line display-3 text-vermelho-pitstop mb-3"></i>
                                <h6 class="text-muted mb-2">Velocidade Máxima</h6>
                                <h3 class="fw-bold"><span id="velocidade-maxima">-</span> km/h</h3>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Visual performance metrics -->
                <div class="card shadow-sm mt-4">
                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-4">Métricas de Desempenho</h5>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="text-muted small mb-2">Potência (cv)</label>
                                <div class="spec-bar">
                                    <div class="spec-bar-fill" id="potencia-bar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="text-muted small mb-2">Aceleração</label>
                                <div class="spec-bar">
                                    <div class="spec-bar-fill" id="aceleracao-bar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="text-muted small mb-2">Velocidade Máxima</label>
                                <div class="spec-bar">
                                    <div class="spec-bar-fill" id="velocidade-bar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Economy Tab -->
            <div class="tab-pane fade" id="economy" role="tabpanel">
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="card shadow-sm h-100">
                            <div class="card-body text-center">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-building-line display-3 text-azul-pitstop mb-3"></i>
                                <h5 class="fw-bold mb-2">Consumo Urbano</h5>
                                <div class="display-4 text-vermelho-pitstop fw-bold"><span id="consumo-cidade">-</span> <small class="fs-5">km/l</small></div>
                                <p class="text-muted mt-3">Ideal para uso na cidade</p>
                                <div class="spec-bar mt-3">
                                    <div class="spec-bar-fill" id="consumo-cidade-bar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card shadow-sm h-100">
                            <div class="card-body text-center">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-map-pin-2-line display-3 text-azul-pitstop mb-3"></i>
                                <h5 class="fw-bold mb-2">Consumo em Estrada</h5>
                                <div class="display-4 text-verde-acento fw-bold"><span id="consumo-estrada">-</span> <small class="fs-5">km/l</small></div>
                                <p class="text-muted mt-3">Perfeito para viagens longas</p>
                                <div class="spec-bar mt-3">
                                    <div class="spec-bar-fill" id="consumo-estrada-bar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card shadow-sm mt-4 bg-light">
                    <div class="card-body">
                        <h6 class="fw-bold mb-3"><i class="ri-information-line text-azul-pitstop me-2"></i>Estimativa de Economia</h6>
                        <p class="mb-2">Com base no consumo médio, este veículo percorre aproximadamente:</p>
                        <ul class="list-unstyled">
                            <li class="mb-2"><i class="ri-checkbox-circle-line text-verde-acento me-2"></i><strong id="km-tanque">-</strong> km com um tanque cheio (cidade)</li>
                            <li><i class="ri-checkbox-circle-line text-verde-acento me-2"></i>Economia de combustível acima da média para a categoria</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Costs Tab -->
            <div class="tab-pane fade" id="costs" role="tabpanel">
                <div class="row g-4 mb-4">
                    <div class="col-md-4">
                        <div class="card shadow-sm text-center h-100 border-danger">
                            <div class="card-body">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-price-tag-3-line display-3 text-vermelho-pitstop mb-3"></i>
                                <h6 class="text-muted mb-2">Preço do Veículo</h6>
                                <h3 class="fw-bold">R$ <span id="preco-2">-</span></h3>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card shadow-sm text-center h-100">
                            <div class="card-body">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-shield-line display-3 text-azul-pitstop mb-3"></i>
                                <h6 class="text-muted mb-2">Seguro Anual</h6>
                                <h3 class="fw-bold">R$ <span id="seguro">-</span></h3>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card shadow-sm text-center h-100">
                            <div class="card-body">
                                <!-- Updated to use modern Remix icon -->
                                <i class="ri-file-list-line display-3 text-azul-pitstop mb-3"></i>
                                <h6 class="text-muted mb-2">IPVA Anual</h6>
                                <h3 class="fw-bold">R$ <span id="ipva">-</span></h3>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-4"><i class="ri-line-chart-line text-verde-acento me-2"></i>Valorização</h5>
                        <div class="row align-items-center">
                            <div class="col-md-6">
                                <p class="mb-3">Taxa de valorização anual estimada:</p>
                                <div class="display-5 text-verde-acento fw-bold mb-3">
                                    <span id="valorizacao">-</span>%
                                </div>
                                <div class="spec-bar">
                                    <div class="spec-bar-fill" id="valorizacao-bar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="bg-light p-4 rounded">
                                    <h6 class="fw-bold mb-3">Custo Total Anual Estimado</h6>
                                    <ul class="list-unstyled mb-0">
                                        <li class="mb-2">Seguro: R$ <span id="seguro-2">-</span></li>
                                        <li class="mb-2">IPVA: R$ <span id="ipva-2">-</span></li>
                                        <li class="mb-2">Manutenção: R$ 2.500*</li>
                                        <li class="pt-2 border-top"><strong>Total: R$ <span id="custo-total">-</span>/ano</strong></li>
                                    </ul>
                                    <p class="text-muted small mb-0 mt-2">*Valor estimado</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CTA Section -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="card shadow-lg border-0" style="background: linear-gradient(135deg, var(--vermelho-pitstop) 0%, #e63946 100%);">
                    <div class="card-body text-center py-5 text-white">
                        <h3 class="fw-bold mb-3 text-white">Interessado neste veículo?</h3>
                        <p class="lead mb-4 text-white-50">Nossa equipe pode ajudá-lo com uma análise completa e consultoria personalizada</p>
                        <div class="d-flex gap-3 justify-content-center flex-wrap">
                            <button class="btn btn-light btn-lg">
                                <i class="ri-chat-3-line me-2"></i>Falar com Consultor
                            </button>
                            <a href="index.html#comparacao" class="btn btn-outline-light btn-lg">
                                <i class="ri-arrow-left-right-line me-2"></i>Comparar com Outros
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Updated button text to just "Voltar" -->
        <div class="text-center mt-4">
            <a href="index.html" class="btn btn-outline-secondary btn-lg">
                <i class="ri-arrow-left-line me-2"></i>Voltar
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5 mt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <a class="navbar-brand fw-bold d-flex align-items-center mb-3" href="index.html">
                        <img src="public/images/pic-nova-logo-ps.webp" alt="logo PIT STOP" height="40" class="me-2">
                    </a>
                    <p class="text-white-50">Sua consultoria automotiva de confiança</p>
                </div>
                <div class="col-md-4">
                    <h6 class="fw-bold mb-3">Contato</h6>
                    <p class="text-white-50"><i class="ri-mail-line me-2"></i>veiculospitstop@pitstop.com.br</p>
                    <p class="text-white-50"><i class="ri-phone-line me-2"></i>(31) 91234-5678</p>
                </div>
                <div class="col-md-4">
                    <h6 class="fw-bold mb-3">Redes Sociais</h6>
                    <div class="d-flex gap-3">
                        <a href="https://www.instagram.com/pitstopconsultoria/" target="_blank" class="text-white"><i class="ri-instagram-line fs-4"></i></a>
                        <a href="#" class="text-white"><i class="ri-facebook-circle-line fs-4"></i></a>
                        <a href="#" class="text-white"><i class="ri-linkedin-box-line fs-4"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4 bg-white">
            <div class="text-center">
                <p class="mb-0 text-white-50">&copy; 2025 PIT STOP. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

     <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Enhanced script with animations -->
    <script type="module">
        import { mockVeiculos } from "./data/mockData.js";

        const params = new URLSearchParams(window.location.search);
        const id = parseInt(params.get("id"));

        const v = mockVeiculos.find(item => item.id === id);

        if (!v) {
            document.body.innerHTML = "<h2 class='text-center p-5'>Veículo não encontrado</h2>";
        } else {
            // Header
            document.getElementById("titulo").innerText = `${v.marca} ${v.modelo}`;
            document.getElementById("subtitulo").innerText = `${v.ano} • ${v.combustivel} • ${v.cambio}`;

            // Image
            document.getElementById("car-img").src = v.imagem || "/placeholder.svg?height=400&width=800";

            // Overview Tab
            document.getElementById("marca").innerText = v.marca;
            document.getElementById("modelo").innerText = v.modelo;
            document.getElementById("ano").innerText = v.ano;
            document.getElementById("combustivel").innerText = v.combustivel;
            document.getElementById("cambio").innerText = v.cambio;
            document.getElementById("preco").innerText = v.preco.toLocaleString('pt-BR');

            // Segurança e Conforto com barras
            document.getElementById("seguranca-value").innerText = v.seguranca;
            document.getElementById("conforto-value").innerText = v.conforto;
            
            setTimeout(() => {
                document.getElementById("seguranca-bar").style.width = (v.seguranca / 5 * 100) + "%";
                document.getElementById("conforto-bar").style.width = (v.conforto / 5 * 100) + "%";
            }, 100);

            // Performance Tab
            document.getElementById("potencia").innerText = v.potencia;
            document.getElementById("aceleracao").innerText = v.aceleracao;
            document.getElementById("velocidade-maxima").innerText = v.velocidadeMaxima;

            // Performance bars (normalized to reasonable ranges)
            setTimeout(() => {
                document.getElementById("potencia-bar").style.width = (parseInt(v.potencia) / 200 * 100) + "%";
                document.getElementById("aceleracao-bar").style.width = ((20 - v.aceleracao) / 20 * 100) + "%"; // Inverted (lower is better)
                document.getElementById("velocidade-bar").style.width = (v.velocidadeMaxima / 250 * 100) + "%";
            }, 100);

            // Economy Tab
            document.getElementById("consumo-cidade").innerText = v.consumo.cidade;
            document.getElementById("consumo-estrada").innerText = v.consumo.estrada;
            document.getElementById("km-tanque").innerText = Math.round(v.consumo.cidade * 50); // Assuming 50L tank

            setTimeout(() => {
                document.getElementById("consumo-cidade-bar").style.width = (v.consumo.cidade / 20 * 100) + "%";
                document.getElementById("consumo-estrada-bar").style.width = (v.consumo.estrada / 20 * 100) + "%";
            }, 100);

            // Costs Tab
            document.getElementById("preco-2").innerText = v.preco.toLocaleString('pt-BR');
            document.getElementById("seguro").innerText = v.seguro.toLocaleString('pt-BR');
            document.getElementById("seguro-2").innerText = v.seguro.toLocaleString('pt-BR');
            document.getElementById("ipva").innerText = v.ipva.toLocaleString('pt-BR');
            document.getElementById("ipva-2").innerText = v.ipva.toLocaleString('pt-BR');
            document.getElementById("valorizacao").innerText = v.valorizacao.toFixed(1);
            
            const custoTotal = v.seguro + v.ipva + 2500;
            document.getElementById("custo-total").innerText = custoTotal.toLocaleString('pt-BR');

            setTimeout(() => {
                document.getElementById("valorizacao-bar").style.width = (v.valorizacao / 10 * 100) + "%";
            }, 100);
        }
    </script>

</body>
</html>
